<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/xhtml;charset=UTF-8" http-equiv="Content-Type" /><meta content="IE=9" http-equiv="X-UA-Compatible" /><meta content="Doxygen 1.8.3.1" name="generator" /><title>_c_idle_mouse_watcher</title><link href="tabs.css" rel="stylesheet" type="text/css" /><script src="jquery.js" type="text/javascript"></script><script src="dynsections.js" type="text/javascript"></script><link href="navtree.css" rel="stylesheet" type="text/css" /><script src="resize.js" type="text/javascript"></script><script src="navtree.js" type="text/javascript"></script><script type="text/javascript">

  $(document).ready(initResizable);

  $(window).load(resizeHeight);

</script><link href="search/search.css" rel="stylesheet" type="text/css" /><script src="search/search.js" type="text/javascript"></script><script type="text/javascript">

  $(document).ready(function() { searchBox.OnSelectItem(0); });

</script><link href="doxygen.css" rel="stylesheet" type="text/css" /></head><body><div id="top"><div id="titlearea"><table cellpadding="0" cellspacing="0"><tbody><tr style="height: 56px;"><td id="projectlogo"><img alt="Logo" src="adobe_logo.png" /></td><td style="padding-left: 0.5em;"><div id="projectname">InDesign SDK &nbsp;<span id="projectnumber">14.0.0</span></div></td></tr></tbody></table></div><script type="text/javascript">

var searchBox = new SearchBox("searchBox", "search",false,'Search');

</script><div class="tabs" id="navrow1"><ul class="tablist"><li><a href="index.html"><span>InDesign&nbsp;SDK</span></a><li><a href="pages.html"><span>Documentation</span></a><li><a href="group__bosses__parent.html"><span>Bosses</span></a><li><a href="group__sdk.html"><span>Sample&nbsp;plug-ins</span></a><li><a href="classes.html"><span>Class&nbsp;Index</span></a><li><div class="MSearchBoxInactive" id="MSearchBox"><span class="left"> <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png" /> <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search" /> </span><span class="right"> <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png" /></a> </span></div></ul></div></div><div class="ui-resizable side-nav-resizable" id="side-nav"><div id="nav-tree"><div id="nav-tree-contents"><div class="sync" id="nav-sync"></div></div></div><div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;"></div></div><script type="text/javascript">

$(document).ready(function(){initNavTree('class_c_idle_mouse_watcher.html','');});

</script><div id="doc-content"><div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()"><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Pages</a></div><div id="MSearchResultsWindow"><iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)"></iframe></div><div class="header"><div class="summary"><a href="#pub-types">Public Types</a> | <a href="#pub-methods">Public Member Functions</a> | <a href="#friends">Friends</a> | <a href="class_c_idle_mouse_watcher-members.html">List of all members</a></div><div class="headertitle"><div class="title">CIdleMouseWatcher Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div></div><div class="contents"><p><code>#include &lt;<a class="el" href="_c_idle_mouse_watcher_8h_source.html">CIdleMouseWatcher.h</a>&gt;</code><div class="dynheader"> Inheritance diagram for CIdleMouseWatcher:</div><div class="dyncontent"><div class="center"><img alt="" src="class_c_idle_mouse_watcher.png" usemap="#CIdleMouseWatcher_map" /><map id="CIdleMouseWatcher_map" name="CIdleMouseWatcher_map"><area alt="IEventWatcher" coords="0,56,126,80" href="class_i_event_watcher.html" shape="rect" /><area alt="IPMUnknown" coords="0,0,126,24" href="class_i_p_m_unknown.html" shape="rect" /></map></div></div><table class="memberdecls"><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a> Public Types</h2></td></tr><tr class="memitem:a4bc6ad8bbb8cc1975f3d62604925424b"><td align="right" class="memItemLeft" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <b>kEndOfTime</b> = ~(uint32)0 }</td></tr><tr class="separator:a4bc6ad8bbb8cc1975f3d62604925424b"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="inherit_header pub_types_class_i_event_watcher"><td colspan="2" onclick="javascript:toggleInherit(&#39;pub_types_class_i_event_watcher&#39;)"><img alt="-" src="closed.png" />&nbsp;Public Types inherited from <a class="el" href="class_i_event_watcher.html">IEventWatcher</a></td></tr><tr class="memitem:a6df1cc9d9cae1f20624c766384bb5450 inherit pub_types_class_i_event_watcher"><td align="right" class="memItemLeft" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <b>kDefaultIID</b> = IID_IEVENTWATCHER }</td></tr><tr class="separator:a6df1cc9d9cae1f20624c766384bb5450 inherit pub_types_class_i_event_watcher"><td class="memSeparator" colspan="2">&nbsp;</td></tr></table><table class="memberdecls"><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a> Public Member Functions</h2></td></tr><tr class="memitem:a1471ceb5ea7ebd3e4c74b310304ca06e"><td align="right" class="memItemLeft" valign="top"><a class="anchor" id="a1471ceb5ea7ebd3e4c74b310304ca06e"></a> &nbsp;</td><td class="memItemRight" valign="bottom"><b>CIdleMouseWatcher</b> (<a class="el" href="class_i_p_m_unknown.html">IPMUnknown</a> *boss)</td></tr><tr class="separator:a1471ceb5ea7ebd3e4c74b310304ca06e"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a5b395476d350a4de2c1eb8173dc313de"><td align="right" class="memItemLeft" valign="top"><a class="el" href="class_i_event_dispatcher_1_1_event_type_list.html">IEventDispatcher::EventTypeList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_idle_mouse_watcher.html#a5b395476d350a4de2c1eb8173dc313de">WatchEvent</a> (<a class="el" href="class_i_event.html">IEvent</a> *e)</td></tr><tr class="separator:a5b395476d350a4de2c1eb8173dc313de"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a26cc5f2805cebb83ea80b06486326652"><td align="right" class="memItemLeft" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_idle_mouse_watcher.html#a26cc5f2805cebb83ea80b06486326652">StartWatching</a> ()</td></tr><tr class="separator:a26cc5f2805cebb83ea80b06486326652"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a7b4ca53bd6f60393309e142286c35eb1"><td align="right" class="memItemLeft" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_idle_mouse_watcher.html#a7b4ca53bd6f60393309e142286c35eb1">StopWatching</a> ()</td></tr><tr class="separator:a7b4ca53bd6f60393309e142286c35eb1"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a31c57b4eb2a43dcb27fa44b0046016d8"><td align="right" class="memItemLeft" valign="top">virtual uint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_idle_mouse_watcher.html#a31c57b4eb2a43dcb27fa44b0046016d8">MouseMoved</a> (<a class="el" href="struct_sys_point.html">GSysPoint</a>)=0</td></tr><tr class="separator:a31c57b4eb2a43dcb27fa44b0046016d8"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:abab4b269127b7211206243fcb515eb18"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="struct_sys_point.html">GSysPoint</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_idle_mouse_watcher.html#abab4b269127b7211206243fcb515eb18">StartingMousePoint</a> ()</td></tr><tr class="separator:abab4b269127b7211206243fcb515eb18"><td class="memSeparator" colspan="2">&nbsp;</td></tr></table><table class="memberdecls"><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a> Friends</h2></td></tr><tr class="memitem:a4b1dcb9a7c0a99360bea566e050fe0ee"><td align="right" class="memItemLeft" valign="top"><a class="anchor" id="a4b1dcb9a7c0a99360bea566e050fe0ee"></a> class&nbsp;</td><td class="memItemRight" valign="bottom"><b>MouseWatcherIdleTask</b></td></tr><tr class="separator:a4b1dcb9a7c0a99360bea566e050fe0ee"><td class="memSeparator" colspan="2">&nbsp;</td></tr></table><a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2><div class="textblock"><p>An implementation of <a class="el" href="class_i_event_watcher.html">IEventWatcher</a> that watches the mouse location&ndash;but not EVERY move. It works by first installing an idle task that checks the mouse location periodically. If the mouse ever stays put between idle calls, the idle task is removed and an event watcher is installed. As soon as the mouse moves again, the idletask is reinstalled and the event watcher uninstalled and so on. You might use this if you want to watch the mouse, but getting every mouse movement when the mouse is moving quickly would be overkill&ndash;perhaps because the user can&#39;t consume the information that rapidly or perhaps it would be too expensive to call your code on every mouse moved event. For example, the transform palette tracks the mouse location when no page items are selected. However, a person can&#39;t read and interpret the displayed values as fast as the mouse-moved events are generated. So this event watcher could be used with an update interval of say 250ms. Likewise, the tool tips need not be instantly up-to-date. In fact if they are too lively, it&#39;s a little disconcerting. Moreover, checking the needs of tool tips can be expensive on every mouse move.<p>Note that this event watcher differs from the usual mouse-event watcher in that it won&#39;t notice every mouse move (strictly speaking the OS never gives you pixel by pixel mouse-moved events anyway). In that way it may be called far less often when the mouse is on the move. And unlike an idle task that periodically gets the global mouse location&ndash;when the mouse has come to a stop, nothing gets called at all. Note also that you couldn&#39;t just throttle your expensive code in an event watcher by waiting until sufficient time has elapsed, because you may decide not to call your expensive code yet at the moment the mouse has stopped. Your event watcher won&#39;t get called again and your state will be incorrect until the mouse starts moving again. An idle task alone can periodically check the mouse location but only by constantly getting called even when the mouse is not moving.<p>Note further that the presence of the idle task is opaque to users of this class. You simply use the event watcher API<p>Clients of this code typically have a custom implementation which is a subclass of <a class="el" href="class_c_idle_mouse_watcher.html">CIdleMouseWatcher</a>. This subclass usually just needs to override <a class="el" href="class_c_idle_mouse_watcher.html#a31c57b4eb2a43dcb27fa44b0046016d8">MouseMoved()</a> to do whatever is appropriate. </div><h2 class="groupheader">Member Function Documentation</h2><a class="anchor" id="a31c57b4eb2a43dcb27fa44b0046016d8"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual uint32 CIdleMouseWatcher::MouseMoved </td><td>(</td><td class="paramtype"><a class="el" href="struct_sys_point.html">GSysPoint</a>&nbsp;</td><td class="paramname"></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Subclasses must override this to do whatever is appropriate when the mouse has moved. Return sleep time in milliseconds before being called again. Returning kEndOfTime will, in effect, calls <a class="el" href="class_c_idle_mouse_watcher.html#a7b4ca53bd6f60393309e142286c35eb1">CIdleMouseWatcher::StopWatching</a>&ndash;i.e., not the derived class&#39; StopWatching. </div></div><a class="anchor" id="abab4b269127b7211206243fcb515eb18"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual <a class="el" href="struct_sys_point.html">GSysPoint</a> CIdleMouseWatcher::StartingMousePoint </td><td>(</td><td class="paramname"></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">virtual</span></span></td></tr></table></div><div class="memdoc"><p>StartingMousePoint is called by StartWatching&ndash;override to tell the watcher where you think the mouse is now. The inherited version returns (0,0) which will almost ensure one call to MouseMoved before the mouse actually moves </div></div><a class="anchor" id="a26cc5f2805cebb83ea80b06486326652"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">void CIdleMouseWatcher::StartWatching </td><td>(</td><td class="paramname"></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">virtual</span></span></td></tr></table></div><div class="memdoc"><p><a class="el" href="class_c_idle_mouse_watcher.html">CIdleMouseWatcher</a> implements this to watch the mouse events appropriately. Subclasses don&#39;t need to override unless there are additional events they want to register for. <p>Implements <a class="el" href="class_i_event_watcher.html#ab8f3e52c98099d04dac227de1e24dd12">IEventWatcher</a>.</div></div><a class="anchor" id="a7b4ca53bd6f60393309e142286c35eb1"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">void CIdleMouseWatcher::StopWatching </td><td>(</td><td class="paramname"></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">virtual</span></span></td></tr></table></div><div class="memdoc"><p><a class="el" href="class_c_idle_mouse_watcher.html">CIdleMouseWatcher</a> implements this to stop watching the mouse events appropriately. Subclasses don&#39;t need to override unless there are additional events they need to unregister for. <p>Implements <a class="el" href="class_i_event_watcher.html#ae8bed89c537ce5ff30d0c08125a967c1">IEventWatcher</a>.</div></div><a class="anchor" id="a5b395476d350a4de2c1eb8173dc313de"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname"><a class="el" href="class_i_event_dispatcher_1_1_event_type_list.html">IEventDispatcher::EventTypeList</a> CIdleMouseWatcher::WatchEvent </td><td>(</td><td class="paramtype"><a class="el" href="class_i_event.html">IEvent</a> *&nbsp;</td><td class="paramname"><em>e</em></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">virtual</span></span></td></tr></table></div><div class="memdoc"><p>Called by the EventDispatcher before the event is dispatched. Returns the list of event kinds that are now of interest. If the EventList is empty, this <a class="el" href="class_i_event_watcher.html">IEventWatcher</a> is removed from the EventDispatcher. (StopWatching would not be called) <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">e</td><td>the event to watch </td></tr></table></dl><dl class="section return"><dt>Returns<dd>new list of events of interest </dl><p>Implements <a class="el" href="class_i_event_watcher.html#a4c19ed97f2ba68f70be1db8fed748d13">IEventWatcher</a>.</div></div></div></div><div class="navpath" id="nav-path"><ul><li class="navelem"><a class="el" href="class_c_idle_mouse_watcher.html">CIdleMouseWatcher</a><li class="footer">Generated on Sat Sep 22 2018 10:53:21 for InDesign SDK by <a href="http://www.doxygen.org/index.html"> <img alt="doxygen" class="footer" src="doxygen.png" /></a> 1.8.3.1 </ul></div></body></html>
