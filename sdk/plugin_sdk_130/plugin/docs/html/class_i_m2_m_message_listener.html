<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/xhtml;charset=UTF-8" http-equiv="Content-Type" /><meta content="IE=9" http-equiv="X-UA-Compatible" /><meta content="Doxygen 1.8.3.1" name="generator" /><title>_i_m2_m_message_listener</title><link href="tabs.css" rel="stylesheet" type="text/css" /><script src="jquery.js" type="text/javascript"></script><script src="dynsections.js" type="text/javascript"></script><link href="navtree.css" rel="stylesheet" type="text/css" /><script src="resize.js" type="text/javascript"></script><script src="navtree.js" type="text/javascript"></script><script type="text/javascript">

  $(document).ready(initResizable);

  $(window).load(resizeHeight);

</script><link href="search/search.css" rel="stylesheet" type="text/css" /><script src="search/search.js" type="text/javascript"></script><script type="text/javascript">

  $(document).ready(function() { searchBox.OnSelectItem(0); });

</script><link href="doxygen.css" rel="stylesheet" type="text/css" /></head><body><div id="top"><div id="titlearea"><table cellpadding="0" cellspacing="0"><tbody><tr style="height: 56px;"><td id="projectlogo"><img alt="Logo" src="adobe_logo.png" /></td><td style="padding-left: 0.5em;"><div id="projectname">InDesign SDK &nbsp;<span id="projectnumber">14.0.0</span></div></td></tr></tbody></table></div><script type="text/javascript">

var searchBox = new SearchBox("searchBox", "search",false,'Search');

</script><div class="tabs" id="navrow1"><ul class="tablist"><li><a href="index.html"><span>InDesign&nbsp;SDK</span></a><li><a href="pages.html"><span>Documentation</span></a><li><a href="group__bosses__parent.html"><span>Bosses</span></a><li><a href="group__sdk.html"><span>Sample&nbsp;plug-ins</span></a><li><a href="classes.html"><span>Class&nbsp;Index</span></a><li><div class="MSearchBoxInactive" id="MSearchBox"><span class="left"> <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png" /> <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search" /> </span><span class="right"> <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png" /></a> </span></div></ul></div></div><div class="ui-resizable side-nav-resizable" id="side-nav"><div id="nav-tree"><div id="nav-tree-contents"><div class="sync" id="nav-sync"></div></div></div><div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;"></div></div><script type="text/javascript">

$(document).ready(function(){initNavTree('class_i_m2_m_message_listener.html','');});

</script><div id="doc-content"><div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()"><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Pages</a></div><div id="MSearchResultsWindow"><iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)"></iframe></div><div class="header"><div class="summary"><a href="#nested-classes">Classes</a> | <a href="#pub-types">Public Types</a> | <a href="#pub-methods">Public Member Functions</a> | <a href="class_i_m2_m_message_listener-members.html">List of all members</a></div><div class="headertitle"><div class="title">IM2MMessageListener Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div></div><div class="contents"><p><code>#include &lt;<a class="el" href="_i_m2_m_message_listener_8h_source.html">IM2MMessageListener.h</a>&gt;</code><div class="dynheader"> Inheritance diagram for IM2MMessageListener:</div><div class="dyncontent"><div class="center"><img alt="" src="class_i_m2_m_message_listener.png" usemap="#IM2MMessageListener_map" /><map id="IM2MMessageListener_map" name="IM2MMessageListener_map"><area alt="IPMUnknown" coords="0,0,243,24" href="class_i_p_m_unknown.html" shape="rect" /><area alt="CPMUnknown&lt; IM2MMessageListener &gt;" coords="0,112,243,136" href="class_c_p_m_unknown.html" shape="rect" /><area alt="CM2MMessageListener" coords="0,168,243,192" href="class_c_m2_m_message_listener.html" shape="rect" /></map></div></div><table class="memberdecls"><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a> Classes</h2></td></tr><tr class="memitem:"><td align="right" class="memItemLeft" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m2_m_message_listener_1_1_change_data.html">ChangeData</a></td></tr><tr class="separator:"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:"><td align="right" class="memItemLeft" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m2_m_message_listener_1_1_message_helper.html">MessageHelper</a></td></tr><tr class="separator:"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:"><td align="right" class="memItemLeft" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a></td></tr><tr class="separator:"><td class="memSeparator" colspan="2">&nbsp;</td></tr></table><table class="memberdecls"><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a> Public Types</h2></td></tr><tr class="memitem:acd57cad971727330eaf0bbe962fafa4c"><td align="right" class="memItemLeft" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <b>kDefaultIID</b> = IID_IM2MMESSAGELISTENER }</td></tr><tr class="separator:acd57cad971727330eaf0bbe962fafa4c"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:afcefb699ed9e3467acfebf6da24be5b5"><td align="right" class="memItemLeft" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m2_m_message_listener.html#afcefb699ed9e3467acfebf6da24be5b5">Relation</a> { <br /> &nbsp;&nbsp;<a class="el" href="class_i_m2_m_message_listener.html#afcefb699ed9e3467acfebf6da24be5b5aec3b24d88dcdc0f0a076c739d952b1e6">kHierAncestor</a> = -2, <a class="el" href="class_i_m2_m_message_listener.html#afcefb699ed9e3467acfebf6da24be5b5a24c60e73f4b277a46c421e262f7fcd9a">kHierParent</a> = -1, <a class="el" href="class_i_m2_m_message_listener.html#afcefb699ed9e3467acfebf6da24be5b5a7248f373c78164dfb3a854d0cd61fd17">kTarget</a> = 0, <a class="el" href="class_i_m2_m_message_listener.html#afcefb699ed9e3467acfebf6da24be5b5a0dd0d717b85b2e6ee17bf49119f04fbf">kHierChild</a> = 1, <br /> &nbsp;&nbsp;<a class="el" href="class_i_m2_m_message_listener.html#afcefb699ed9e3467acfebf6da24be5b5a838e83177decc27fd72fb5f882de8954">kHierDescendent</a> = 2, <a class="el" href="class_i_m2_m_message_listener.html#afcefb699ed9e3467acfebf6da24be5b5a115e2bf79c10400ae9a4e96924c2c663">kUnrelated</a><br /> }</td></tr><tr class="separator:afcefb699ed9e3467acfebf6da24be5b5"><td class="memSeparator" colspan="2">&nbsp;</td></tr></table><table class="memberdecls"><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a> Public Member Functions</h2></td></tr><tr class="memitem:af261ac261cfde45e6940bd693b8ed566"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m2_m_message_listener.html#af261ac261cfde45e6940bd693b8ed566">GetMessagesFor</a> (const <a class="el" href="class_i_class_info.html">IClassInfo</a> *cInfo, const <a class="el" href="class_i_d_type.html">PMIID</a> *&amp;targetM, uint32 &amp;targetMSize, const <a class="el" href="class_i_d_type.html">PMIID</a> *&amp;ancestorM, uint32 &amp;ancestorMSize, const <a class="el" href="class_i_d_type.html">PMIID</a> *&amp;descendentM, uint32 &amp;descendentMSize, const <a class="el" href="class_i_d_type.html">PMIID</a> *&amp;unrelatedM, uint32 &amp;unrelatedMSize) const =0</td></tr><tr class="separator:af261ac261cfde45e6940bd693b8ed566"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a22945924c3202b00b0850a8cf8954007"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m2_m_message_listener.html#a22945924c3202b00b0850a8cf8954007">Message</a> (<a class="el" href="class_i_m2_m_message_listener_1_1_message_helper.html">MessageHelper</a> &amp;helper, <a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a> *data)=0</td></tr><tr class="separator:a22945924c3202b00b0850a8cf8954007"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a8ad676b2b3e926587a877dbb89265f35"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_m2_m_message_listener.html#a8ad676b2b3e926587a877dbb89265f35">SnapshotRead</a> (const <a class="el" href="class_u_i_d_ref.html">UIDRef</a> &amp;targetRef, <a class="el" href="class_i_p_m_stream.html">IPMStream</a> *inStream)=0</td></tr><tr class="separator:a8ad676b2b3e926587a877dbb89265f35"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="inherit_header pub_methods_class_i_p_m_unknown"><td colspan="2" onclick="javascript:toggleInherit(&#39;pub_methods_class_i_p_m_unknown&#39;)"><img alt="-" src="closed.png" />&nbsp;Public Member Functions inherited from <a class="el" href="class_i_p_m_unknown.html">IPMUnknown</a></td></tr><tr class="memitem:aaa3b657383c4699900aaec5dc7348864 inherit pub_methods_class_i_p_m_unknown"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="class_i_p_m_unknown.html">IPMUnknown</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_m_unknown.html#aaa3b657383c4699900aaec5dc7348864">QueryInterface</a> (<a class="el" href="class_i_d_type.html">PMIID</a> interfaceID) const =0</td></tr><tr class="separator:aaa3b657383c4699900aaec5dc7348864 inherit pub_methods_class_i_p_m_unknown"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:aa90872f1896d2f2623cbb6f0bff98443 inherit pub_methods_class_i_p_m_unknown"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_m_unknown.html#aa90872f1896d2f2623cbb6f0bff98443">AddRef</a> () const =0</td></tr><tr class="separator:aa90872f1896d2f2623cbb6f0bff98443 inherit pub_methods_class_i_p_m_unknown"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a9365365afb903ae6a6450593930a0f9c inherit pub_methods_class_i_p_m_unknown"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_m_unknown.html#a9365365afb903ae6a6450593930a0f9c">Release</a> () const =0</td></tr><tr class="separator:a9365365afb903ae6a6450593930a0f9c inherit pub_methods_class_i_p_m_unknown"><td class="memSeparator" colspan="2">&nbsp;</td></tr></table><a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2><div class="textblock"><p>Model To Model Listeners are a low level mechanism to &quot;listen to&quot; (vs Subject/Observer) changes to persistent objects in a database. It was used internally in CS4 to revise the way TextWrap and TextFrames detect changes to the the myriad number of properties and objects they depend on.<p>For example, MultiColumnTextFrames are dependent on their parent Spline for its stroke, stroke alignment, text inset, movement relative to the spread, etc.<p>Any changes to these properties requires explict action by the MCF to manage its size and/or text content.<p>Listeners are registered with K2 service providers thus:<pre>

Class

{

    kFooListenerServiceBoss,

    kInvalidClass,

    {

        IID_IK2SERVICEPROVIDER, kM2MMessageListenerServiceProviderImpl,

        IID_IM2MMESSAGELISTENER, kFooListenerImpl,

    }

}

    </pre><p>Listeners can be attached to any persistent objects in the system and this attachment is determined by the M2MMessageManager on the first change to a persistent instance of a class by calling all the Listeners on their <a class="el" href="class_i_m2_m_message_listener.html#af261ac261cfde45e6940bd693b8ed566">GetMessagesFor()</a> method. A Listener which wishes to receive further notifcation of changes to any instance of the specified class must return a list of &quot;messages&quot; in the form of PMIIDs associated with the class.<p>The next time any implementation which implement one of the specified IIDs on that class changes the Listener will be called at its <a class="el" href="class_i_m2_m_message_listener.html#a22945924c3202b00b0850a8cf8954007">Message()</a> method.<p>Listeners which use the <a class="el" href="class_i_m2_m_message_listener_1_1_message_helper.html#a64357ce4c4da568625a813a432667518">MessageHelper::AddPrivateData()</a> method to add <a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a> will be called back on their Validate() method when the <a class="el" href="class_command.html">Command</a> Stack goes empty, typically, but not exclusively.<p>In Validate() they can fire commands (or make direct model changes) which will be associated with the same transaction as the command that is just finishing.<p>Listeners have several advantages over the traditional Subject/Observer mechanism:<ol type="1"><li>Listeners do not need to know or rely on known Commands or Protocols in order to find out about changes to any class it is listening to.</ol><ol type="1"><li>Listeners are typically called immediately before the implementation it is listening to changes - allowing it to take read and save (in <a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a>) the state of the implementation and compare it to the final state at Validate() time. This allows detailed understanding of the actual change that took place on the particular boss.</ol><ol type="1"><li>Listeners can listen to many changes and defer their reaction until Validate() at which time they can decide how to proceed. This improves performance, and in some cases correctness, because the Listener does not have to react to every change as an Observer has to.</ol><ol type="1"><li>Listeners can listen to messages in the context of their place in the <a class="el" href="class_i_hierarchy.html">IHierarchy</a> (Ancestor, Descendent) without having to explicitly listen to the parent or descendent objects. This quite useful when changes to Ancestor, such as a transform, effectively changes position of the object being listened to but without and explit change to any of it&#39;s interfaces.</ol><p>See <a class="el" href="class_c_m2_m_message_listener.html">CM2MMessageListener</a> for a simplified way to implement Listeners which wish to have <a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a> (as most will). </div><h2 class="groupheader">Member Enumeration Documentation</h2><a class="anchor" id="afcefb699ed9e3467acfebf6da24be5b5"></a><div class="memitem"><div class="memproto"><table class="memname"><tr><td class="memname">enum <a class="el" href="class_i_m2_m_message_listener.html#afcefb699ed9e3467acfebf6da24be5b5">IM2MMessageListener::Relation</a></td></tr></table></div><div class="memdoc"><p>The Relation enum describes the relationship in <a class="el" href="class_i_hierarchy.html">IHierarchy</a> terms between the boss the Listener is listening to, specified by <a class="el" href="class_i_m2_m_message_listener_1_1_message_helper.html#acf3e23f42b98d163f9f7255c3535c1cb">MessageHelper::GetTarget()</a> and ValidateHelper::GetTarget(), and the boss the message was originated from.<p>Note that messages of Relation other than kTarget are by definition the result of a explit call by another Listener to forward the message from a boss that they are listening to to another boss. <a class="el" href="class_i_m2_m_message_listener_1_1_message_helper.html#afedb2cb868be9a7441317bf681ff6e03">MessageHelper::Forward()</a> is one way to do this. <table class="fieldtable"><tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="afcefb699ed9e3467acfebf6da24be5b5aec3b24d88dcdc0f0a076c739d952b1e6"></a>kHierAncestor</em>&nbsp;</td><td class="fielddoc"><p>The message is from a boss that is an ancestor to, but NOT the parent of, the boss the Listener is listening to. </td></tr><tr><td class="fieldname"><em><a class="anchor" id="afcefb699ed9e3467acfebf6da24be5b5a24c60e73f4b277a46c421e262f7fcd9a"></a>kHierParent</em>&nbsp;</td><td class="fielddoc"><p>The message is from a boss that is the parent of the boss the Listener is listening to. </td></tr><tr><td class="fieldname"><em><a class="anchor" id="afcefb699ed9e3467acfebf6da24be5b5a7248f373c78164dfb3a854d0cd61fd17"></a>kTarget</em>&nbsp;</td><td class="fielddoc"><p>The message is from the boss that Listener is listening to. </td></tr><tr><td class="fieldname"><em><a class="anchor" id="afcefb699ed9e3467acfebf6da24be5b5a0dd0d717b85b2e6ee17bf49119f04fbf"></a>kHierChild</em>&nbsp;</td><td class="fielddoc"><p>The message is from a boss that is the child of the boss the Listener is listening to. </td></tr><tr><td class="fieldname"><em><a class="anchor" id="afcefb699ed9e3467acfebf6da24be5b5a838e83177decc27fd72fb5f882de8954"></a>kHierDescendent</em>&nbsp;</td><td class="fielddoc"><p>The message is from a boss that is the descendent of, but NOT the child of, the boss the Listener is listening to. </td></tr><tr><td class="fieldname"><em><a class="anchor" id="afcefb699ed9e3467acfebf6da24be5b5a115e2bf79c10400ae9a4e96924c2c663"></a>kUnrelated</em>&nbsp;</td><td class="fielddoc"><p>The message is from a boss that is unrelated by <a class="el" href="class_i_hierarchy.html">IHierarchy</a> to the boss the Listener is listening to. </td></tr></table></div></div><h2 class="groupheader">Member Function Documentation</h2><a class="anchor" id="af261ac261cfde45e6940bd693b8ed566"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual void IM2MMessageListener::GetMessagesFor </td><td>(</td><td class="paramtype">const <a class="el" href="class_i_class_info.html">IClassInfo</a> *&nbsp;</td><td class="paramname"><em>cInfo</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">const <a class="el" href="class_i_d_type.html">PMIID</a> *&amp;&nbsp;</td><td class="paramname"><em>targetM</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">uint32 &amp;&nbsp;</td><td class="paramname"><em>targetMSize</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">const <a class="el" href="class_i_d_type.html">PMIID</a> *&amp;&nbsp;</td><td class="paramname"><em>ancestorM</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">uint32 &amp;&nbsp;</td><td class="paramname"><em>ancestorMSize</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">const <a class="el" href="class_i_d_type.html">PMIID</a> *&amp;&nbsp;</td><td class="paramname"><em>descendentM</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">uint32 &amp;&nbsp;</td><td class="paramname"><em>descendentMSize</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">const <a class="el" href="class_i_d_type.html">PMIID</a> *&amp;&nbsp;</td><td class="paramname"><em>unrelatedM</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">uint32 &amp;&nbsp;</td><td class="paramname"><em>unrelatedMSize</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td> const</td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Return a pointer to the vector of PMIID messages that the Listener is interested in about the specified Class. If the Listener is not interested in the class then it should return nil. <p>Implemented in <a class="el" href="class_c_m2_m_message_listener.html#a0569f09fad719bc4d18a8ecb43e428ed">CM2MMessageListener</a>.</div></div><a class="anchor" id="a22945924c3202b00b0850a8cf8954007"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual void IM2MMessageListener::Message </td><td>(</td><td class="paramtype"><a class="el" href="class_i_m2_m_message_listener_1_1_message_helper.html">MessageHelper</a> &amp;&nbsp;</td><td class="paramname"><em>helper</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a> *&nbsp;</td><td class="paramname"><em>data</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Notification that a message has been sent to a boss listened to by the callee Listener. It is ASSERT()able that the only messages that a Listener will see are part of the set returned by what was returned from <a class="el" href="class_i_m2_m_message_listener.html#af261ac261cfde45e6940bd693b8ed566">GetMessagesFor()</a>.<p>Listeners may only do direct modifications to data in this context (do not fire commands) and keep their work to a minimum in the interest of performance.<p>Those Listeners which need to do major work, such as firing commands, must create <a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a> and defer this work to a <a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html#a62d935dade3f22ff6fcccf2a3844d96c">PrivateData::Validate()</a> method. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">helper</td><td>Reference to ChangingHelper boss. </td></tr><tr><td class="paramname">data</td><td>Reference to <a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a> class created in a previous call in the same M2MMessageManager &#39;transaction&#39;. See <a class="el" href="class_i_m2_m_message_listener_1_1_message_helper.html#a64357ce4c4da568625a813a432667518">MessageHelper::AddPrivateData()</a>. </td></tr></table></dl><p>Implemented in <a class="el" href="class_c_m2_m_message_listener.html#ab11bc8957f01827c35ad4c40efa814d7">CM2MMessageListener</a>.</div></div><a class="anchor" id="a8ad676b2b3e926587a877dbb89265f35"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual <a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a>* IM2MMessageListener::SnapshotRead </td><td>(</td><td class="paramtype">const <a class="el" href="class_u_i_d_ref.html">UIDRef</a> &amp;&nbsp;</td><td class="paramname"><em>targetRef</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_i_p_m_stream.html">IPMStream</a> *&nbsp;</td><td class="paramname"><em>inStream</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>A Listener which has previously created <a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a> is being called to create a new instance of <a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a> and initialize it from the snapshot (possibly) created by a previous call to PrivateData::SnapshotWrite().<p>Note that a Listener which does not change any state of their <a class="el" href="class_i_m2_m_message_listener_1_1_private_data.html">PrivateData</a> during calls to <a class="el" href="class_i_m2_m_message_listener.html#a22945924c3202b00b0850a8cf8954007">Message()</a> does not need to write anything out when called for SnapshotWrite(). However, the Listener will still be called at this method and will need to construct and return a new instance of their PrivateData(). <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">targetRef</td><td><a class="el" href="class_u_i_d_ref.html">UIDRef</a> to object the Listener is associated with </td></tr><tr><td class="paramname">inStream</td><td>Pointer to <a class="el" href="class_i_p_m_stream.html">IPMStream</a> input stream positioned at the snapshot data (if any) previously written in a call to PrivateData::SnapshotWrite() </td></tr></table></dl><p>Implemented in <a class="el" href="class_c_m2_m_message_listener.html#a57755949321277c6649b3b456df02690">CM2MMessageListener</a>.</div></div></div></div><div class="navpath" id="nav-path"><ul><li class="navelem"><a class="el" href="class_i_m2_m_message_listener.html">IM2MMessageListener</a><li class="footer">Generated on Sat Sep 22 2018 10:54:20 for InDesign SDK by <a href="http://www.doxygen.org/index.html"> <img alt="doxygen" class="footer" src="doxygen.png" /></a> 1.8.3.1 </ul></div></body></html>
