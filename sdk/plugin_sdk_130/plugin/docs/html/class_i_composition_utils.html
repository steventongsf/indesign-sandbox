<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/xhtml;charset=UTF-8" http-equiv="Content-Type" /><meta content="IE=9" http-equiv="X-UA-Compatible" /><meta content="Doxygen 1.8.3.1" name="generator" /><title>_i_composition_utils</title><link href="tabs.css" rel="stylesheet" type="text/css" /><script src="jquery.js" type="text/javascript"></script><script src="dynsections.js" type="text/javascript"></script><link href="navtree.css" rel="stylesheet" type="text/css" /><script src="resize.js" type="text/javascript"></script><script src="navtree.js" type="text/javascript"></script><script type="text/javascript">

  $(document).ready(initResizable);

  $(window).load(resizeHeight);

</script><link href="search/search.css" rel="stylesheet" type="text/css" /><script src="search/search.js" type="text/javascript"></script><script type="text/javascript">

  $(document).ready(function() { searchBox.OnSelectItem(0); });

</script><link href="doxygen.css" rel="stylesheet" type="text/css" /></head><body><div id="top"><div id="titlearea"><table cellpadding="0" cellspacing="0"><tbody><tr style="height: 56px;"><td id="projectlogo"><img alt="Logo" src="adobe_logo.png" /></td><td style="padding-left: 0.5em;"><div id="projectname">InDesign SDK &nbsp;<span id="projectnumber">14.0.0</span></div></td></tr></tbody></table></div><script type="text/javascript">

var searchBox = new SearchBox("searchBox", "search",false,'Search');

</script><div class="tabs" id="navrow1"><ul class="tablist"><li><a href="index.html"><span>InDesign&nbsp;SDK</span></a><li><a href="pages.html"><span>Documentation</span></a><li><a href="group__bosses__parent.html"><span>Bosses</span></a><li><a href="group__sdk.html"><span>Sample&nbsp;plug-ins</span></a><li><a href="classes.html"><span>Class&nbsp;Index</span></a><li><div class="MSearchBoxInactive" id="MSearchBox"><span class="left"> <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png" /> <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search" /> </span><span class="right"> <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png" /></a> </span></div></ul></div></div><div class="ui-resizable side-nav-resizable" id="side-nav"><div id="nav-tree"><div id="nav-tree-contents"><div class="sync" id="nav-sync"></div></div></div><div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;"></div></div><script type="text/javascript">

$(document).ready(function(){initNavTree('class_i_composition_utils.html','');});

</script><div id="doc-content"><div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()"><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Pages</a></div><div id="MSearchResultsWindow"><iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)"></iframe></div><div class="header"><div class="summary"><a href="#pub-types">Public Types</a> | <a href="#pub-methods">Public Member Functions</a> | <a href="class_i_composition_utils-members.html">List of all members</a></div><div class="headertitle"><div class="title">ICompositionUtils Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div></div><div class="contents"><p><code>#include &lt;<a class="el" href="_i_composition_utils_8h_source.html">ICompositionUtils.h</a>&gt;</code><div class="dynheader"> Inheritance diagram for ICompositionUtils:</div><div class="dyncontent"><div class="center"><img alt="" src="class_i_composition_utils.png" usemap="#ICompositionUtils_map" /><map id="ICompositionUtils_map" name="ICompositionUtils_map"><area alt="IPMUnknown" coords="0,0,106,24" href="class_i_p_m_unknown.html" shape="rect" /></map></div></div><table class="memberdecls"><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a> Public Types</h2></td></tr><tr class="memitem:a0b791a9d152d7d3e538a341326f4a1b5"><td align="right" class="memItemLeft" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <b>kDefaultIID</b> = IID_ICOMPOSITIONUTILS }</td></tr><tr class="separator:a0b791a9d152d7d3e538a341326f4a1b5"><td class="memSeparator" colspan="2">&nbsp;</td></tr></table><table class="memberdecls"><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a> Public Member Functions</h2></td></tr><tr class="memitem:a86b8879a315a73bafbf30a15b96e3b99"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="class_i_calculated_text_result.html">ICalculatedTextResult</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_composition_utils.html#a86b8879a315a73bafbf30a15b96e3b99">NewCalculatedText</a> (const <a class="el" href="class_i_text_model.html">ITextModel</a> *model, TextIndex position, <a class="el" href="class_u_t_f32_text_char.html">UTF32TextChar</a> c, const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *style=nil)=0</td></tr><tr class="separator:a86b8879a315a73bafbf30a15b96e3b99"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a9d16230380d126b55c528a2111ac3a34"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="class_i_calculated_text_result.html">ICalculatedTextResult</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_composition_utils.html#a9d16230380d126b55c528a2111ac3a34">NewCalculatedText</a> (const <a class="el" href="class_u_i_d_ref.html">UIDRef</a> &amp;forFrame, <a class="el" href="class_u_t_f32_text_char.html">UTF32TextChar</a> c, const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *style, TextIndex position)=0</td></tr><tr class="separator:a9d16230380d126b55c528a2111ac3a34"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a8c61ac3911d8099256231a4d784e7097"><td align="right" class="memItemLeft" valign="top">virtual ErrorCode&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_composition_utils.html#a8c61ac3911d8099256231a4d784e7097">GetCalculatedTextString</a> (const <a class="el" href="class_i_text_model.html">ITextModel</a> *model, TextIndex position, <a class="el" href="class_u_t_f32_text_char.html">UTF32TextChar</a> c, const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *style, <a class="el" href="class_wide_string.html">WideString</a> *calcText)=0</td></tr><tr class="separator:a8c61ac3911d8099256231a4d784e7097"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:acbb484ae711848313d9ee0951752acdb"><td align="right" class="memItemLeft" valign="top">virtual ErrorCode&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_composition_utils.html#acbb484ae711848313d9ee0951752acdb">GetCalculatedTextString</a> (const <a class="el" href="class_u_i_d_ref.html">UIDRef</a> &amp;forFrame, <a class="el" href="class_u_t_f32_text_char.html">UTF32TextChar</a> c, const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *style, <a class="el" href="class_wide_string.html">WideString</a> *calcText, TextIndex position)=0</td></tr><tr class="separator:acbb484ae711848313d9ee0951752acdb"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:afa5f1c90d08acac2cadf35b1f02987d2"><td align="right" class="memItemLeft" valign="top">virtual <br class="typebreak" /> ICalculatedTextResult::CalculatedStringContent&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_composition_utils.html#afa5f1c90d08acac2cadf35b1f02987d2">ScanStringContents</a> (const <a class="el" href="class_p_m_string.html">PMString</a> &amp;s) const =0</td></tr><tr class="separator:afa5f1c90d08acac2cadf35b1f02987d2"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a39c8a52b44550b01a9f0de4c0a4c1f08"><td align="right" class="memItemLeft" valign="top">virtual bool16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_composition_utils.html#a39c8a52b44550b01a9f0de4c0a4c1f08">RemapCharactersIfNecessary</a> (const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *style, const <a class="el" href="class_p_m_string.html">PMString</a> &amp;original, <a class="el" href="class_wide_string.html">WideString</a> &amp;calcString) const =0</td></tr><tr class="separator:a39c8a52b44550b01a9f0de4c0a4c1f08"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:ada17a518b168a2fdc06f1f2531463f46"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="class_i_calculated_text_result.html">ICalculatedTextResult</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_composition_utils.html#ada17a518b168a2fdc06f1f2531463f46">InitializeCalcResult</a> (const <a class="el" href="class_p_m_string.html">PMString</a> &amp;str, const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *baseDrawStyle)=0</td></tr><tr class="separator:ada17a518b168a2fdc06f1f2531463f46"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:ad087eea5cc2fa41cd8480999b82e6c76"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="class_p_m_real.html">PMReal</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_composition_utils.html#ad087eea5cc2fa41cd8480999b82e6c76">CalcLeadingModelYPosAdjustment</a> (<a class="el" href="class_p_m_real.html">PMReal</a> lineHeight, Text::LeadingModel prevLeadingModel, <a class="el" href="class_p_m_real.html">PMReal</a> prevLeading, <a class="el" href="class_p_m_real.html">PMReal</a> prevLeadingModelOffset, Text::LeadingModel leadingModel, <a class="el" href="class_p_m_real.html">PMReal</a> leading, <a class="el" href="class_p_m_real.html">PMReal</a> leadingModelOffset)=0</td></tr><tr class="separator:ad087eea5cc2fa41cd8480999b82e6c76"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a9f3960e39ec379dc5d0c7a35a1cca7fc"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_composition_utils.html#a9f3960e39ec379dc5d0c7a35a1cca7fc">PregenerateWaxRuns</a> (const <a class="el" href="class_i_wax_iterator.html">IWaxIterator</a> *waxIter, TextIndex startPos, TextIndex endPos)=0</td></tr><tr class="separator:a9f3960e39ec379dc5d0c7a35a1cca7fc"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:ae029f109afbdfaaeaa8791ee866ae286"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="class_k2_vector.html">OpenTypeFeatureList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_composition_utils.html#ae029f109afbdfaaeaa8791ee866ae286">GetCalculatedOTFeaturesList</a> (const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *draw, bool japanese=false, bool vertical=false, bool isTCY=false)=0</td></tr><tr class="separator:ae029f109afbdfaaeaa8791ee866ae286"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="inherit_header pub_methods_class_i_p_m_unknown"><td colspan="2" onclick="javascript:toggleInherit(&#39;pub_methods_class_i_p_m_unknown&#39;)"><img alt="-" src="closed.png" />&nbsp;Public Member Functions inherited from <a class="el" href="class_i_p_m_unknown.html">IPMUnknown</a></td></tr><tr class="memitem:aaa3b657383c4699900aaec5dc7348864 inherit pub_methods_class_i_p_m_unknown"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="class_i_p_m_unknown.html">IPMUnknown</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_m_unknown.html#aaa3b657383c4699900aaec5dc7348864">QueryInterface</a> (<a class="el" href="class_i_d_type.html">PMIID</a> interfaceID) const =0</td></tr><tr class="separator:aaa3b657383c4699900aaec5dc7348864 inherit pub_methods_class_i_p_m_unknown"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:aa90872f1896d2f2623cbb6f0bff98443 inherit pub_methods_class_i_p_m_unknown"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_m_unknown.html#aa90872f1896d2f2623cbb6f0bff98443">AddRef</a> () const =0</td></tr><tr class="separator:aa90872f1896d2f2623cbb6f0bff98443 inherit pub_methods_class_i_p_m_unknown"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a9365365afb903ae6a6450593930a0f9c inherit pub_methods_class_i_p_m_unknown"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_m_unknown.html#a9365365afb903ae6a6450593930a0f9c">Release</a> () const =0</td></tr><tr class="separator:a9365365afb903ae6a6450593930a0f9c inherit pub_methods_class_i_p_m_unknown"><td class="memSeparator" colspan="2">&nbsp;</td></tr></table><a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2><div class="textblock"><p>Utilities related to text composition. e.g. <pre><a class="el" href="class_utils.html">Utils</a>&lt;<a class="el" href="class_i_composition_utils.html">ICompositionUtils</a>&gt;()-&gt;NewCalculatedText( ... ) ;</pre></div><h2 class="groupheader">Member Function Documentation</h2><a class="anchor" id="ad087eea5cc2fa41cd8480999b82e6c76"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual <a class="el" href="class_p_m_real.html">PMReal</a> ICompositionUtils::CalcLeadingModelYPosAdjustment </td><td>(</td><td class="paramtype"><a class="el" href="class_p_m_real.html">PMReal</a>&nbsp;</td><td class="paramname"><em>lineHeight</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">Text::LeadingModel&nbsp;</td><td class="paramname"><em>prevLeadingModel</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_p_m_real.html">PMReal</a>&nbsp;</td><td class="paramname"><em>prevLeading</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_p_m_real.html">PMReal</a>&nbsp;</td><td class="paramname"><em>prevLeadingModelOffset</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">Text::LeadingModel&nbsp;</td><td class="paramname"><em>leadingModel</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_p_m_real.html">PMReal</a>&nbsp;</td><td class="paramname"><em>leading</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_p_m_real.html">PMReal</a>&nbsp;</td><td class="paramname"><em>leadingModelOffset</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Given the leading information for a previous WaxLine, calculates an adjustment which, when added to the previous WaxLine&#39;s YPosition, determines the initial starting YPosition for the following WaxLine. Although the values returned may be negative, it will never exceed the lineHeight. This prevents the YPosition of the next line from being above the previous line&#39;s YPosition. </div></div><a class="anchor" id="ae029f109afbdfaaeaa8791ee866ae286"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual <a class="el" href="class_k2_vector.html">OpenTypeFeatureList</a> ICompositionUtils::GetCalculatedOTFeaturesList </td><td>(</td><td class="paramtype">const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *&nbsp;</td><td class="paramname"><em>draw</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">bool&nbsp;</td><td class="paramname"><em>japanese</em> = <code>false</code>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">bool&nbsp;</td><td class="paramname"><em>vertical</em> = <code>false</code>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">bool&nbsp;</td><td class="paramname"><em>isTCY</em> = <code>false</code>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>This method will return a list of substitution opentype features that are applied to the style. There are some GPOS features that are included, and some that will be left out (mostly kern &amp; some japanese width features). There are also some heuristics related to justification that aren&#39;t in play in this routine because justification data is not here. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">draw</td><td>is the style in question. </td></tr><tr><td class="paramname">japanese</td><td>denotes whether to use some japanese specific logic around discretionary ligatures. specifies if the text in question is vertical specifies if the vertical text in question is actually &quot;horizontal in vertical&quot; </td></tr></table></dl><dl class="section return"><dt>Returns<dd>the list of opentype features that may be applied by the composer for this style. </dl></div></div><a class="anchor" id="a8c61ac3911d8099256231a4d784e7097"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual ErrorCode ICompositionUtils::GetCalculatedTextString </td><td>(</td><td class="paramtype">const <a class="el" href="class_i_text_model.html">ITextModel</a> *&nbsp;</td><td class="paramname"><em>model</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">TextIndex&nbsp;</td><td class="paramname"><em>position</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_u_t_f32_text_char.html">UTF32TextChar</a>&nbsp;</td><td class="paramname"><em>c</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *&nbsp;</td><td class="paramname"><em>style</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_wide_string.html">WideString</a> *&nbsp;</td><td class="paramname"><em>calcText</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Same as NewCalculatedText, except it returns just the string. <dl class="section return"><dt>Returns<dd>kSuccess when the calculated text string is correctly set. @ see NewCalculatedText </dl></div></div><a class="anchor" id="acbb484ae711848313d9ee0951752acdb"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual ErrorCode ICompositionUtils::GetCalculatedTextString </td><td>(</td><td class="paramtype">const <a class="el" href="class_u_i_d_ref.html">UIDRef</a> &amp;&nbsp;</td><td class="paramname"><em>forFrame</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_u_t_f32_text_char.html">UTF32TextChar</a>&nbsp;</td><td class="paramname"><em>c</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *&nbsp;</td><td class="paramname"><em>style</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_wide_string.html">WideString</a> *&nbsp;</td><td class="paramname"><em>calcText</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">TextIndex&nbsp;</td><td class="paramname"><em>position</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Same as NewCalculatedText, except it returns just the string. <dl class="section return"><dt>Returns<dd>kSuccess when the calculated text string is correctly set. @ see NewCalculatedText </dl></div></div><a class="anchor" id="ada17a518b168a2fdc06f1f2531463f46"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual <a class="el" href="class_i_calculated_text_result.html">ICalculatedTextResult</a>* ICompositionUtils::InitializeCalcResult </td><td>(</td><td class="paramtype">const <a class="el" href="class_p_m_string.html">PMString</a> &amp;&nbsp;</td><td class="paramname"><em>str</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *&nbsp;</td><td class="paramname"><em>baseDrawStyle</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Helper function used to generate necessary data for calculated text. May remap characters, change styles, etc. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">str</td><td>IN the resulting string to use. </td></tr><tr><td class="paramname">baseDrawStyle</td><td>IN the style applied to the calculated text. </td></tr><tr><td class="paramname">overrideDrawStyle</td><td>IN the style locally applied to the calculated text. Can be nil. </td></tr></table></dl><dl class="section return"><dt>Returns<dd>the completed object containing the wide string and other relevant stuff. </dl></div></div><a class="anchor" id="a86b8879a315a73bafbf30a15b96e3b99"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual <a class="el" href="class_i_calculated_text_result.html">ICalculatedTextResult</a>* ICompositionUtils::NewCalculatedText </td><td>(</td><td class="paramtype">const <a class="el" href="class_i_text_model.html">ITextModel</a> *&nbsp;</td><td class="paramname"><em>model</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">TextIndex&nbsp;</td><td class="paramname"><em>position</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_u_t_f32_text_char.html">UTF32TextChar</a>&nbsp;</td><td class="paramname"><em>c</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *&nbsp;</td><td class="paramname"><em>style</em> = <code>nil</code>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Calculates the string based on the character and position passed in. Returns an object containing that string and other relevant stuff. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">model</td><td>IN the text model that contains the calculated text. </td></tr><tr><td class="paramname">position</td><td>IN the location of the calculated text in question within the text model. </td></tr><tr><td class="paramname">c</td><td>IN the text char of the calculated text in question within the text model and the given position. </td></tr><tr><td class="paramname">style</td><td>IN the text attributes applied to the calculated text, if nil it will be calculated </td></tr><tr><td class="paramname">setMe</td><td>OUT the object containing the calculated text and associated stuff. </td></tr><tr><td class="paramname">return</td><td>kSuccess when the calculated text string is correctly set. </td></tr></table></dl><dl class="section return"><dt>Returns<dd>an object containing that string and other relevant stuff.</dl><dl class="section note"><dt>Note<dd>This method is typically used for OwnedItem based calculated text (e.g. footnotes) </dl></div></div><a class="anchor" id="a9d16230380d126b55c528a2111ac3a34"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual <a class="el" href="class_i_calculated_text_result.html">ICalculatedTextResult</a>* ICompositionUtils::NewCalculatedText </td><td>(</td><td class="paramtype">const <a class="el" href="class_u_i_d_ref.html">UIDRef</a> &amp;&nbsp;</td><td class="paramname"><em>forFrame</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_u_t_f32_text_char.html">UTF32TextChar</a>&nbsp;</td><td class="paramname"><em>c</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *&nbsp;</td><td class="paramname"><em>style</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">TextIndex&nbsp;</td><td class="paramname"><em>position</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Calculates the string based on the character and text frame passed in. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">forFrame</td><td>IN the text frame that contains the section name. </td></tr><tr><td class="paramname">c</td><td>IN the text char of the calculated text in question within the text model and the given position. </td></tr><tr><td class="paramname">style</td><td>IN the text attributes applied to the calculated text, should not be nil </td></tr><tr><td class="paramname">setMe</td><td>OUT the object containing the calculated text and associated stuff. </td></tr></table></dl><dl class="section return"><dt>Returns<dd>an object containing that string and other relevant stuff.</dl><dl class="section note"><dt>Note<dd>This method is typically used for non-OwnedItem based calculated text (e.g. page numbers) </dl></div></div><a class="anchor" id="a9f3960e39ec379dc5d0c7a35a1cca7fc"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual void ICompositionUtils::PregenerateWaxRuns </td><td>(</td><td class="paramtype">const <a class="el" href="class_i_wax_iterator.html">IWaxIterator</a> *&nbsp;</td><td class="paramname"><em>waxIter</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">TextIndex&nbsp;</td><td class="paramname"><em>startPos</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">TextIndex&nbsp;</td><td class="paramname"><em>endPos</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Experimental routine that will try to use multiple threads to generate the runs for multiple lines in parallel. </div></div><a class="anchor" id="a39c8a52b44550b01a9f0de4c0a4c1f08"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual bool16 ICompositionUtils::RemapCharactersIfNecessary </td><td>(</td><td class="paramtype">const <a class="el" href="class_i_drawing_style.html">IDrawingStyle</a> *&nbsp;</td><td class="paramname"><em>style</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">const <a class="el" href="class_p_m_string.html">PMString</a> &amp;&nbsp;</td><td class="paramname"><em>original</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype"><a class="el" href="class_wide_string.html">WideString</a> &amp;&nbsp;</td><td class="paramname"><em>calcString</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td> const</td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><pre class="fragment">Some fonts use custom use area characters (not unicode - e.g. Bembo Expert numbers)  - this method remaps them to the right unicode (via platform encoding).

</pre><dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">style</td><td>the drawing style associated with this string </td></tr><tr><td class="paramname">original</td><td>the incoming string to be scanned/remapped </td></tr><tr><td class="paramname">calcString</td><td>the resulting string with remappings in place, if any </td></tr></table></dl><dl class="section return"><dt>Returns<dd>whether any remapping was done </dl></div></div><a class="anchor" id="afa5f1c90d08acac2cadf35b1f02987d2"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual ICalculatedTextResult::CalculatedStringContent ICompositionUtils::ScanStringContents </td><td>(</td><td class="paramtype">const <a class="el" href="class_p_m_string.html">PMString</a> &amp;&nbsp;</td><td class="paramname"><em>s</em></td><td>)</td><td> const</td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><pre class="fragment">Scan the incoming string and return the characteristics of the contained characters

</pre><dl class="section see"><dt>See Also<dd>CalculatedStringContent </dl></div></div></div></div><div class="navpath" id="nav-path"><ul><li class="navelem"><a class="el" href="class_i_composition_utils.html">ICompositionUtils</a><li class="footer">Generated on Sat Sep 22 2018 10:54:01 for InDesign SDK by <a href="http://www.doxygen.org/index.html"> <img alt="doxygen" class="footer" src="doxygen.png" /></a> 1.8.3.1 </ul></div></body></html>
