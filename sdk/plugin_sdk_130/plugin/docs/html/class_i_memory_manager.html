<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/xhtml;charset=UTF-8" http-equiv="Content-Type" /><meta content="IE=9" http-equiv="X-UA-Compatible" /><meta content="Doxygen 1.8.3.1" name="generator" /><title>_i_memory_manager</title><link href="tabs.css" rel="stylesheet" type="text/css" /><script src="jquery.js" type="text/javascript"></script><script src="dynsections.js" type="text/javascript"></script><link href="navtree.css" rel="stylesheet" type="text/css" /><script src="resize.js" type="text/javascript"></script><script src="navtree.js" type="text/javascript"></script><script type="text/javascript">

  $(document).ready(initResizable);

  $(window).load(resizeHeight);

</script><link href="search/search.css" rel="stylesheet" type="text/css" /><script src="search/search.js" type="text/javascript"></script><script type="text/javascript">

  $(document).ready(function() { searchBox.OnSelectItem(0); });

</script><link href="doxygen.css" rel="stylesheet" type="text/css" /></head><body><div id="top"><div id="titlearea"><table cellpadding="0" cellspacing="0"><tbody><tr style="height: 56px;"><td id="projectlogo"><img alt="Logo" src="adobe_logo.png" /></td><td style="padding-left: 0.5em;"><div id="projectname">InDesign SDK &nbsp;<span id="projectnumber">14.0.0</span></div></td></tr></tbody></table></div><script type="text/javascript">

var searchBox = new SearchBox("searchBox", "search",false,'Search');

</script><div class="tabs" id="navrow1"><ul class="tablist"><li><a href="index.html"><span>InDesign&nbsp;SDK</span></a><li><a href="pages.html"><span>Documentation</span></a><li><a href="group__bosses__parent.html"><span>Bosses</span></a><li><a href="group__sdk.html"><span>Sample&nbsp;plug-ins</span></a><li><a href="classes.html"><span>Class&nbsp;Index</span></a><li><div class="MSearchBoxInactive" id="MSearchBox"><span class="left"> <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png" /> <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search" /> </span><span class="right"> <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png" /></a> </span></div></ul></div></div><div class="ui-resizable side-nav-resizable" id="side-nav"><div id="nav-tree"><div id="nav-tree-contents"><div class="sync" id="nav-sync"></div></div></div><div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;"></div></div><script type="text/javascript">

$(document).ready(function(){initNavTree('class_i_memory_manager.html','');});

</script><div id="doc-content"><div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()"><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Pages</a></div><div id="MSearchResultsWindow"><iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)"></iframe></div><div class="header"><div class="summary"><a href="#pub-types">Public Types</a> | <a href="#pub-methods">Public Member Functions</a> | <a href="class_i_memory_manager-members.html">List of all members</a></div><div class="headertitle"><div class="title">IMemoryManager Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div></div><div class="contents"><p><code>#include &lt;<a class="el" href="_i_memory_manager_8h_source.html">IMemoryManager.h</a>&gt;</code><div class="dynheader"> Inheritance diagram for IMemoryManager:</div><div class="dyncontent"><div class="center"><img alt="" src="class_i_memory_manager.png" usemap="#IMemoryManager_map" /><map id="IMemoryManager_map" name="IMemoryManager_map"><area alt="IPMUnknown" coords="0,0,112,24" href="class_i_p_m_unknown.html" shape="rect" /></map></div></div><table class="memberdecls"><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a> Public Types</h2></td></tr><tr class="memitem:afd35185f952c9ea29825d1f21a074c44"><td align="right" class="memItemLeft" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <b>kDefaultIID</b> = IID_IMEMORYMANAGER }</td></tr><tr class="separator:afd35185f952c9ea29825d1f21a074c44"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:ae39693197cb97f5d3d1c93942fcf660f"><td align="right" class="memItemLeft" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#ae39693197cb97f5d3d1c93942fcf660f">PurgeLevel</a> { <br /> &nbsp;&nbsp;<a class="el" href="class_i_memory_manager.html#ae39693197cb97f5d3d1c93942fcf660faf19d4c95f44f7b5bf00ea51385bf42bc">kNoPurge</a> = -1, <a class="el" href="class_i_memory_manager.html#ae39693197cb97f5d3d1c93942fcf660fa48b6409034b6e4829f16ea8874c32073">kSwitchingDocuments</a> = 0, <a class="el" href="class_i_memory_manager.html#ae39693197cb97f5d3d1c93942fcf660fae922c1b2e3ebbdef75fbeb1816aed68e">kSwitchingApplications</a> = 1, <a class="el" href="class_i_memory_manager.html#ae39693197cb97f5d3d1c93942fcf660fa5ceaf6df91223c0c5de548342b4e8c6a">kLowMemory1</a> = 2, <br /> &nbsp;&nbsp;<a class="el" href="class_i_memory_manager.html#ae39693197cb97f5d3d1c93942fcf660faf3a8df934109d29c4867d7d08acaab71">kLowMemory2</a> = 3, <a class="el" href="class_i_memory_manager.html#ae39693197cb97f5d3d1c93942fcf660fab6cffe747ddb7282d06c45c2f6b34223">kLowMemory3</a> = 4, <a class="el" href="class_i_memory_manager.html#ae39693197cb97f5d3d1c93942fcf660fa9ba970b55d03786fa946e66c018196da">kReleaseEverything</a> = 5, <a class="el" href="class_i_memory_manager.html#ae39693197cb97f5d3d1c93942fcf660fa227bc855ef1df0528ce9234be92141e9">kMaxMemoryLevel</a> = 5 <br /> }</td></tr><tr class="separator:ae39693197cb97f5d3d1c93942fcf660f"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a58d0ce45be29e9505245245d7709b3be"><td align="right" class="memItemLeft" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#a58d0ce45be29e9505245245d7709b3be">MemoryState</a> { <a class="el" href="class_i_memory_manager.html#a58d0ce45be29e9505245245d7709b3bea1ae90fc9968759398b07ba9a397b8c84">kNormalMemoryState</a> = 0, <a class="el" href="class_i_memory_manager.html#a58d0ce45be29e9505245245d7709b3bea44bc64c391f8aab36149d7e79ff377c3">kConstrainedMemoryState</a> = 1, <a class="el" href="class_i_memory_manager.html#a58d0ce45be29e9505245245d7709b3beaf1933633046b65487a482da05feb3ac5">kLowMemoryState</a> = 2 }</td></tr><tr class="separator:a58d0ce45be29e9505245245d7709b3be"><td class="memSeparator" colspan="2">&nbsp;</td></tr></table><table class="memberdecls"><tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a> Public Member Functions</h2></td></tr><tr class="memitem:af32dbfbe898764c8dbf214881e5debd7"><td align="right" class="memItemLeft" valign="top"><a class="anchor" id="af32dbfbe898764c8dbf214881e5debd7"></a> virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>Init</b> ()=0</td></tr><tr class="separator:af32dbfbe898764c8dbf214881e5debd7"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:aafa068d310d7aaf340c187bd5f1e93eb"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#aafa068d310d7aaf340c187bd5f1e93eb">PurgeObjects</a> (<a class="el" href="class_i_memory_manager.html#ae39693197cb97f5d3d1c93942fcf660f">PurgeLevel</a> purgeLevel)=0</td></tr><tr class="separator:aafa068d310d7aaf340c187bd5f1e93eb"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:aa3ff09a84d781558aff167e73e8e3b9b"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#aa3ff09a84d781558aff167e73e8e3b9b">CheckMemoryState</a> ()=0</td></tr><tr class="separator:aa3ff09a84d781558aff167e73e8e3b9b"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a31e82583504c4321151e4a8f6ef25683"><td align="right" class="memItemLeft" valign="top">virtual bool16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#a31e82583504c4321151e4a8f6ef25683">MemoryPanic</a> ()=0</td></tr><tr class="separator:a31e82583504c4321151e4a8f6ef25683"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a1ee979b24cb182992594d121f596e0a3"><td align="right" class="memItemLeft" valign="top">virtual bool16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#a1ee979b24cb182992594d121f596e0a3">CheckMemory</a> (bool16 showAlerts=kFalse)=0</td></tr><tr class="separator:a1ee979b24cb182992594d121f596e0a3"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a460a35ba785f3cf4acbc3f7d423c3e05"><td align="right" class="memItemLeft" valign="top">virtual bool16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#a460a35ba785f3cf4acbc3f7d423c3e05">MemoryIsLow</a> ()=0</td></tr><tr class="separator:a460a35ba785f3cf4acbc3f7d423c3e05"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a4aa2ee1aa8c9c90b9ee7f5a34cb253af"><td align="right" class="memItemLeft" valign="top">virtual bool16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#a4aa2ee1aa8c9c90b9ee7f5a34cb253af">MemoryIsFailing</a> ()=0</td></tr><tr class="separator:a4aa2ee1aa8c9c90b9ee7f5a34cb253af"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:abd3ffa1c72aae9f724918c298493adac"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#abd3ffa1c72aae9f724918c298493adac">RegisterAdviseMemoryStateNotification</a> (AdviseMemoryStateNotificationFunction func, void *refPtr)=0</td></tr><tr class="separator:abd3ffa1c72aae9f724918c298493adac"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:ac1dd0d35e6986007af1abf86caf7295c"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#ac1dd0d35e6986007af1abf86caf7295c">UnregisterAdviseMemoryStateNotification</a> (AdviseMemoryStateNotificationFunction func, void *refPtr)=0</td></tr><tr class="separator:ac1dd0d35e6986007af1abf86caf7295c"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:afff5aa3e2953107fc16df1b7fdfeb070"><td align="right" class="memItemLeft" valign="top">virtual uint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#afff5aa3e2953107fc16df1b7fdfeb070">GetPurgeCount</a> () const =0</td></tr><tr class="separator:afff5aa3e2953107fc16df1b7fdfeb070"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:ab885e776459b4117d1829265d4f1f651"><td align="right" class="memItemLeft" valign="top">virtual uint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#ab885e776459b4117d1829265d4f1f651">GetPurgeTime</a> () const =0</td></tr><tr class="separator:ab885e776459b4117d1829265d4f1f651"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a40bdade3fb3552fb31e1419552a9d80e"><td align="right" class="memItemLeft" valign="top">virtual bool16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#a40bdade3fb3552fb31e1419552a9d80e">PurgeInProgress</a> () const =0</td></tr><tr class="separator:a40bdade3fb3552fb31e1419552a9d80e"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a1f1a534bc5aca6dd3ed402e7badb2860"><td align="right" class="memItemLeft" valign="top">virtual bool16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#a1f1a534bc5aca6dd3ed402e7badb2860">HandleAllocationFailure</a> (size_t blockSize)=0</td></tr><tr class="separator:a1f1a534bc5aca6dd3ed402e7badb2860"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:ae129792c72d98994147a81e9f4949e6b"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#ae129792c72d98994147a81e9f4949e6b">ResetFailureHandler</a> ()=0</td></tr><tr class="separator:ae129792c72d98994147a81e9f4949e6b"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr><td colspan="2"><div class="groupHeader">Register and de-register purge handlers</div></td></tr><tr class="memitem:a5219151031426bc2a48478b374844b6f"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#a5219151031426bc2a48478b374844b6f">RegisterMemoryNotification</a> (MemoryNotificationFunction func, void *refPtr)=0</td></tr><tr class="separator:a5219151031426bc2a48478b374844b6f"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a073a1c0f0fd1b15c3080cec093dc22a3"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#a073a1c0f0fd1b15c3080cec093dc22a3">RegisterNewMemoryNotification</a> (NewMemoryNotificationFunction func, void *refPtr, bool16 bGrowZoneFailSafe)=0</td></tr><tr class="separator:a073a1c0f0fd1b15c3080cec093dc22a3"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a71a5f66b2623b9e2204c6a3f7499fedf"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#a71a5f66b2623b9e2204c6a3f7499fedf">UnregisterMemoryNotification</a> (MemoryNotificationFunction func, void *refPtr)=0</td></tr><tr class="separator:a71a5f66b2623b9e2204c6a3f7499fedf"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:ac12cb7a13840b675c474d39213b5370c"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_memory_manager.html#ac12cb7a13840b675c474d39213b5370c">UnregisterNewMemoryNotification</a> (NewMemoryNotificationFunction func, void *refPtr)=0</td></tr><tr class="separator:ac12cb7a13840b675c474d39213b5370c"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="inherit_header pub_methods_class_i_p_m_unknown"><td colspan="2" onclick="javascript:toggleInherit(&#39;pub_methods_class_i_p_m_unknown&#39;)"><img alt="-" src="closed.png" />&nbsp;Public Member Functions inherited from <a class="el" href="class_i_p_m_unknown.html">IPMUnknown</a></td></tr><tr class="memitem:aaa3b657383c4699900aaec5dc7348864 inherit pub_methods_class_i_p_m_unknown"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="class_i_p_m_unknown.html">IPMUnknown</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_m_unknown.html#aaa3b657383c4699900aaec5dc7348864">QueryInterface</a> (<a class="el" href="class_i_d_type.html">PMIID</a> interfaceID) const =0</td></tr><tr class="separator:aaa3b657383c4699900aaec5dc7348864 inherit pub_methods_class_i_p_m_unknown"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:aa90872f1896d2f2623cbb6f0bff98443 inherit pub_methods_class_i_p_m_unknown"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_m_unknown.html#aa90872f1896d2f2623cbb6f0bff98443">AddRef</a> () const =0</td></tr><tr class="separator:aa90872f1896d2f2623cbb6f0bff98443 inherit pub_methods_class_i_p_m_unknown"><td class="memSeparator" colspan="2">&nbsp;</td></tr><tr class="memitem:a9365365afb903ae6a6450593930a0f9c inherit pub_methods_class_i_p_m_unknown"><td align="right" class="memItemLeft" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_m_unknown.html#a9365365afb903ae6a6450593930a0f9c">Release</a> () const =0</td></tr><tr class="separator:a9365365afb903ae6a6450593930a0f9c inherit pub_methods_class_i_p_m_unknown"><td class="memSeparator" colspan="2">&nbsp;</td></tr></table><a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2><div class="textblock"><p>The memory manager keeps track of the memory load, and acts as a central handler for memory issues. </div><h2 class="groupheader">Member Enumeration Documentation</h2><a class="anchor" id="a58d0ce45be29e9505245245d7709b3be"></a><div class="memitem"><div class="memproto"><table class="memname"><tr><td class="memname">enum <a class="el" href="class_i_memory_manager.html#a58d0ce45be29e9505245245d7709b3be">IMemoryManager::MemoryState</a></td></tr></table></div><div class="memdoc"><p>Load on memory <table class="fieldtable"><tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a58d0ce45be29e9505245245d7709b3bea1ae90fc9968759398b07ba9a397b8c84"></a>kNormalMemoryState</em>&nbsp;</td><td class="fielddoc"><p>Normal state, there is plenty of memory </td></tr><tr><td class="fieldname"><em><a class="anchor" id="a58d0ce45be29e9505245245d7709b3bea44bc64c391f8aab36149d7e79ff377c3"></a>kConstrainedMemoryState</em>&nbsp;</td><td class="fielddoc"><p>Heap is relatively full, around 10-20% free (a good time to fix sizes of caches) </td></tr><tr><td class="fieldname"><em><a class="anchor" id="a58d0ce45be29e9505245245d7709b3beaf1933633046b65487a482da05feb3ac5"></a>kLowMemoryState</em>&nbsp;</td><td class="fielddoc"><p>Heap is very full, less than 5% free (a good time to reduce memory footprint) </td></tr></table></div></div><a class="anchor" id="ae39693197cb97f5d3d1c93942fcf660f"></a><div class="memitem"><div class="memproto"><table class="memname"><tr><td class="memname">enum <a class="el" href="class_i_memory_manager.html#ae39693197cb97f5d3d1c93942fcf660f">IMemoryManager::PurgeLevel</a></td></tr></table></div><div class="memdoc"><p>Every purge request has a priority attached to it, which is the PurgeLevel. <table class="fieldtable"><tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ae39693197cb97f5d3d1c93942fcf660faf19d4c95f44f7b5bf00ea51385bf42bc"></a>kNoPurge</em>&nbsp;</td><td class="fielddoc"><p>Used to indicate no purge is necessary </td></tr><tr><td class="fieldname"><em><a class="anchor" id="ae39693197cb97f5d3d1c93942fcf660fa48b6409034b6e4829f16ea8874c32073"></a>kSwitchingDocuments</em>&nbsp;</td><td class="fielddoc"><p>Called when document focus changes, releases document oriented caches </td></tr><tr><td class="fieldname"><em><a class="anchor" id="ae39693197cb97f5d3d1c93942fcf660fae922c1b2e3ebbdef75fbeb1816aed68e"></a>kSwitchingApplications</em>&nbsp;</td><td class="fielddoc"><p>Called when the application is being switched out, releases temporary memory </td></tr><tr><td class="fieldname"><em><a class="anchor" id="ae39693197cb97f5d3d1c93942fcf660fa5ceaf6df91223c0c5de548342b4e8c6a"></a>kLowMemory1</em>&nbsp;</td><td class="fielddoc"><p>Called when memory is getting tight </td></tr><tr><td class="fieldname"><em><a class="anchor" id="ae39693197cb97f5d3d1c93942fcf660faf3a8df934109d29c4867d7d08acaab71"></a>kLowMemory2</em>&nbsp;</td><td class="fielddoc"><p>Called when memory is getting more tight </td></tr><tr><td class="fieldname"><em><a class="anchor" id="ae39693197cb97f5d3d1c93942fcf660fab6cffe747ddb7282d06c45c2f6b34223"></a>kLowMemory3</em>&nbsp;</td><td class="fielddoc"><p>Called when memory is getting even more tight </td></tr><tr><td class="fieldname"><em><a class="anchor" id="ae39693197cb97f5d3d1c93942fcf660fa9ba970b55d03786fa946e66c018196da"></a>kReleaseEverything</em>&nbsp;</td><td class="fielddoc"><p>Called when a memory request is about to fail. Release all caches. </td></tr><tr><td class="fieldname"><em><a class="anchor" id="ae39693197cb97f5d3d1c93942fcf660fa227bc855ef1df0528ce9234be92141e9"></a>kMaxMemoryLevel</em>&nbsp;</td><td class="fielddoc"><p>Attempt to free up memory by unloading plug-ins. Called only on the Mac, when a plug-in fails to load. Purge handlers will not get this level. </td></tr></table></div></div><h2 class="groupheader">Member Function Documentation</h2><a class="anchor" id="a1ee979b24cb182992594d121f596e0a3"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual bool16 IMemoryManager::CheckMemory </td><td>(</td><td class="paramtype">bool16&nbsp;</td><td class="paramname"><em>showAlerts</em> = <code>kFalse</code></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>If <a class="el" href="class_i_memory_manager.html#a1ee979b24cb182992594d121f596e0a3">CheckMemory()</a> returns kFalse the application should quit asap. </div></div><a class="anchor" id="aa3ff09a84d781558aff167e73e8e3b9b"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual void IMemoryManager::CheckMemoryState </td><td>(</td><td class="paramname"></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Checks available memory and notifies registered memory state clients so thay can make caching algorithm adjustments. </div></div><a class="anchor" id="afff5aa3e2953107fc16df1b7fdfeb070"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual uint32 IMemoryManager::GetPurgeCount </td><td>(</td><td class="paramname"></td><td>)</td><td> const</td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Return the number of times PurgeObjects has been called </div></div><a class="anchor" id="ab885e776459b4117d1829265d4f1f651"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual uint32 IMemoryManager::GetPurgeTime </td><td>(</td><td class="paramname"></td><td>)</td><td> const</td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Returns the cumulative time spent in PurgeObjects </div></div><a class="anchor" id="a1f1a534bc5aca6dd3ed402e7badb2860"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual bool16 IMemoryManager::HandleAllocationFailure </td><td>(</td><td class="paramtype">size_t&nbsp;</td><td class="paramname"><em>blockSize</em></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Called when an allocation fails. It will attempt to free some memory by calling the purge handlers. Returns true if it made any progress and the caller should retry the allocation, false if no progress was made and we should give up. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">blockSize</td><td>[IN] - the size of the block that the allocator failed to allocate. </td></tr></table></dl></div></div><a class="anchor" id="a4aa2ee1aa8c9c90b9ee7f5a34cb253af"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual bool16 IMemoryManager::MemoryIsFailing </td><td>(</td><td class="paramname"></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>If <a class="el" href="class_i_memory_manager.html#a4aa2ee1aa8c9c90b9ee7f5a34cb253af">MemoryIsFailing()</a> returns kTrue the application should quit asap </div></div><a class="anchor" id="a460a35ba785f3cf4acbc3f7d423c3e05"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual bool16 IMemoryManager::MemoryIsLow </td><td>(</td><td class="paramname"></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>If MemoryIsLow returns kTrue certain methods and commands will not work. </div></div><a class="anchor" id="a31e82583504c4321151e4a8f6ef25683"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual bool16 IMemoryManager::MemoryPanic </td><td>(</td><td class="paramname"></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Tries to free the last memory reserves. The memory manager maintains a reserve emergency block of memory that can be freed in order to satisfy memory requests when all other attempts have failed. These blocks will be reacquired as soon as the application judges the memory state has improved. <dl class="section return"><dt>Returns<dd>kTrue if it released any emergency block and the caller should retry, kFalse if no emergency blocks were available </dl></div></div><a class="anchor" id="a40bdade3fb3552fb31e1419552a9d80e"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual bool16 IMemoryManager::PurgeInProgress </td><td>(</td><td class="paramname"></td><td>)</td><td> const</td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Returns true if a memory purge is in progress for the calling thread. Note that the function can return false, but other threads can be purging. Reserved for internal use only. </div></div><a class="anchor" id="aafa068d310d7aaf340c187bd5f1e93eb"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual void IMemoryManager::PurgeObjects </td><td>(</td><td class="paramtype"><a class="el" href="class_i_memory_manager.html#ae39693197cb97f5d3d1c93942fcf660f">PurgeLevel</a>&nbsp;</td><td class="paramname"><em>purgeLevel</em></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Tries to free some memory. Calls out to the purge handlers and requests them to free up memory. PurgeObjects is called by the new fail handler. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">purgeLevel,the</td><td>priority level of the request </td></tr></table></dl></div></div><a class="anchor" id="abd3ffa1c72aae9f724918c298493adac"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual void IMemoryManager::RegisterAdviseMemoryStateNotification </td><td>(</td><td class="paramtype">AdviseMemoryStateNotificationFunction&nbsp;</td><td class="paramname"><em>func</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">void *&nbsp;</td><td class="paramname"><em>refPtr</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Register a memory state notification function. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">func</td><td>the memory state notification function to register </td></tr><tr><td class="paramname">refPtr</td><td>the pointer to pass the function when it&#39;s called </td></tr></table></dl></div></div><a class="anchor" id="a5219151031426bc2a48478b374844b6f"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual void IMemoryManager::RegisterMemoryNotification </td><td>(</td><td class="paramtype">MemoryNotificationFunction&nbsp;</td><td class="paramname"><em>func</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">void *&nbsp;</td><td class="paramname"><em>refPtr</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Register a purge handler. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">func</td><td>the memory notification function to register </td></tr><tr><td class="paramname">refPtr</td><td>the pointer to pass the function when it&#39;s called </td></tr></table></dl></div></div><a class="anchor" id="a073a1c0f0fd1b15c3080cec093dc22a3"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual void IMemoryManager::RegisterNewMemoryNotification </td><td>(</td><td class="paramtype">NewMemoryNotificationFunction&nbsp;</td><td class="paramname"><em>func</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">void *&nbsp;</td><td class="paramname"><em>refPtr</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">bool16&nbsp;</td><td class="paramname"><em>bGrowZoneFailSafe</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Register a purge handler. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">func</td><td>the memory notification function to register </td></tr><tr><td class="paramname">refPtr</td><td>the pointer to pass the function when it&#39;s called </td></tr></table></dl></div></div><a class="anchor" id="ae129792c72d98994147a81e9f4949e6b"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual void IMemoryManager::ResetFailureHandler </td><td>(</td><td class="paramname"></td><td>)</td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>Resets the failure handler into its initial state. Called after the failure handler was invoked (one or more times) in order to reset the purge level back to normal. Reserved for internal use only. </div></div><a class="anchor" id="ac1dd0d35e6986007af1abf86caf7295c"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual void IMemoryManager::UnregisterAdviseMemoryStateNotification </td><td>(</td><td class="paramtype">AdviseMemoryStateNotificationFunction&nbsp;</td><td class="paramname"><em>func</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">void *&nbsp;</td><td class="paramname"><em>refPtr</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>De-register a memory state notification function. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">func</td><td>the memory state notification function to de-register </td></tr><tr><td class="paramname">refPtr</td><td>the pointer to pass the function when it&#39;s called </td></tr></table></dl></div></div><a class="anchor" id="a71a5f66b2623b9e2204c6a3f7499fedf"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual void IMemoryManager::UnregisterMemoryNotification </td><td>(</td><td class="paramtype">MemoryNotificationFunction&nbsp;</td><td class="paramname"><em>func</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">void *&nbsp;</td><td class="paramname"><em>refPtr</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>De-register a purge handler. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">func</td><td>the memory notification function to register </td></tr><tr><td class="paramname">refPtr</td><td>the pointer to pass the function when it&#39;s called </td></tr></table></dl></div></div><a class="anchor" id="ac12cb7a13840b675c474d39213b5370c"></a><div class="memitem"><div class="memproto"><table class="mlabels"><tr><td class="mlabels-left"><table class="memname"><tr><td class="memname">virtual void IMemoryManager::UnregisterNewMemoryNotification </td><td>(</td><td class="paramtype">NewMemoryNotificationFunction&nbsp;</td><td class="paramname"><em>func</em>, </td></tr><tr><td class="paramkey"></td><td></td><td class="paramtype">void *&nbsp;</td><td class="paramname"><em>refPtr</em>&nbsp;</td></tr><tr><td></td><td>)</td><td></td><td></td></tr></table></td><td class="mlabels-right"><span class="mlabels"><span class="mlabel">pure virtual</span></span></td></tr></table></div><div class="memdoc"><p>De-register a purge handler. <dl class="params"><dt>Parameters<dd><table class="params"><tr><td class="paramname">func</td><td>the memory notification function to register </td></tr><tr><td class="paramname">refPtr</td><td>the pointer to pass the function when it&#39;s called </td></tr></table></dl></div></div></div></div><div class="navpath" id="nav-path"><ul><li class="navelem"><a class="el" href="class_i_memory_manager.html">IMemoryManager</a><li class="footer">Generated on Sat Sep 22 2018 10:54:20 for InDesign SDK by <a href="http://www.doxygen.org/index.html"> <img alt="doxygen" class="footer" src="doxygen.png" /></a> 1.8.3.1 </ul></div></body></html>
